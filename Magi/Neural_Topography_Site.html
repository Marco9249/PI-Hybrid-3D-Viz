<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PI-HYBRID | NEURAL TOPOGRAPHY</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@100;400;900&family=Cinzel:wght@900&display=swap');

        :root {
            --primary: #52525b;
            /* Terrain Slate */
            --accent: #f59e0b;
            /* Golden Data Markers */
            --bg: #010103;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none !important;
        }

        body {
            background: var(--bg);
            color: #fff;
            font-family: 'Outfit', sans-serif;
            overflow-x: hidden;
        }

        #container {
            position: fixed;
            inset: 0;
            z-index: -1;
        }

        .vignette {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle, transparent 10%, rgba(0, 0, 0, 1));
            pointer-events: none;
            z-index: 1000;
        }

        .noise {
            position: fixed;
            inset: 0;
            background: url('https://upload.wikimedia.org/wikipedia/commons/7/76/1k_p_Nois_6.png');
            opacity: 0.06;
            pointer-events: none;
            z-index: 1001;
            mix-blend-mode: overlay;
        }

        #cursor {
            width: 25px;
            height: 25px;
            border: 1px solid rgba(245, 158, 11, 0.4);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 10000;
        }

        .scroll-container {
            position: relative;
            width: 100%;
            z-index: 10;
        }

        .section {
            height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 10%;
        }

        /* Masterpiece Cards (Legibility First) */
        .topo-card {
            background: rgba(2, 2, 5, 0.9);
            backdrop-filter: blur(60px) saturate(140%);
            -webkit-backdrop-filter: blur(60px) saturate(140%);
            border: 1px solid rgba(255, 255, 255, 0.03);
            border-radius: 40px;
            padding: 85px;
            max-width: 750px;
            box-shadow: 0 100px 300px rgba(0, 0, 0, 1);
            opacity: 0;
            transform: translateY(80px);
        }

        .topo-card h2 {
            font-size: 5rem;
            letter-spacing: -3px;
            line-height: 0.9;
            margin-bottom: 30px;
            font-weight: 900;
        }

        .topo-card p {
            font-size: 1.35rem;
            line-height: 1.8;
            opacity: 0.6;
            font-weight: 100;
        }

        .tag {
            font-family: 'Cinzel';
            font-size: 10px;
            letter-spacing: 12px;
            color: var(--accent);
            margin-bottom: 25px;
            display: block;
            text-transform: uppercase;
        }

        /* Kinetic Typography Intro */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .hero h1 {
            font-size: 14vw;
            font-weight: 900;
            letter-spacing: -1.5vw;
            line-height: 0.7;
            display: flex;
            overflow: hidden;
        }

        .hero h1 span {
            display: inline-block;
            transform: translateY(120%) skewY(15deg);
            opacity: 0;
            filter: blur(40px);
        }

        #progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--accent);
            width: 0%;
            z-index: 2000;
        }
    </style>
</head>

<body>
    <div id="progress-bar"></div>
    <div class="vignette"></div>
    <div class="noise"></div>
    <div id="cursor"></div>

    <div id="container"></div>

    <div class="scroll-container">
        <header class="hero">
            <span class="tag" style="opacity: 0.4;">accuracy landscape analysis</span>
            <h1 id="kinetic-title">
                <span>T</span><span>E</span><span>R</span><span>R</span><span>A</span><span>I</span><span>N</span>
            </h1>
            <p style="margin-top: 60px; letter-spacing: 15px; opacity: 0.2; font-size: 13px; font-weight: 100;">
                TOPOGRAPHICAL MAPPING OPS</p>
        </header>

        <section class="section">
            <div class="topo-card reveal">
                <span class="tag">01 / FEATURE TOPOLOGY</span>
                <h2>Data<br>Majesty</h2>
                <p>The <strong>PI-Hybrid error surface</strong> is a mountain range of probability. We've mapped every
                    valley of variance and every peak of precision through our CNN-BiLSTM hybrid structure.</p>
            </div>
        </section>

        <section class="section" style="justify-content: flex-end;">
            <div class="topo-card reveal">
                <span class="tag">02 / ARID ALTITUDE</span>
                <h2>Transient<br>Ridges</h2>
                <p>Handling the sharp transients of Sudanese solar cycles requires a terrain that can deform in
                    real-time. Our <strong>Neuromorphic Topography</strong> adapts to Omdurman's extreme climate.</p>
            </div>
        </section>

        <section class="section">
            <div class="topo-card reveal">
                <span class="tag">03 / SUMMIT</span>
                <h2>Numerical<br>Apex</h2>
                <p>At the highest point of optimization, RMSE falls to 0.04. The search for the absolute minimum is
                    complete.</p>
            </div>
        </section>
    </div>

    <script>
        const container = document.getElementById('container');
        const scene = new THREE.Scene();
        scene.fog = new THREE.Fog(0x010103, 1, 60);

        const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 15, 30);
        camera.lookAt(0, 0, 0);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.toneMapping = THREE.ReinhardToneMapping;
        renderer.toneMappingExposure = 2.0;
        container.appendChild(renderer.domElement);

        // --- MASTERPIECE 03: NEURAL TOPOGRAPHY ENGINE ---

        const terrainGroup = new THREE.Group();
        scene.add(terrainGroup);

        // 1. PROCEDURAL TERRAIN (Plane with Noise)
        const terrainSize = 60;
        const terrainSegments = 128;
        const terrainGeo = new THREE.PlaneGeometry(terrainSize, terrainSize, terrainSegments, terrainSegments);
        const terrainMat = new THREE.MeshStandardMaterial({
            color: 0x1a1a1a,
            wireframe: false,
            metalness: 0.1,
            roughness: 0.8,
            flatShading: true
        });

        // Simplex/Perlin Style Noise for Vertices
        const pos = terrainGeo.attributes.position;
        for (let i = 0; i < pos.count; i++) {
            const x = pos.getX(i);
            const y = pos.getY(i);
            const dist = Math.sqrt(x * x + y * y);
            const noise = Math.sin(x * 0.2) * Math.cos(y * 0.2) * 3 +
                Math.sin(x * 0.5) * 2 + Math.random() * 0.2;
            pos.setZ(i, noise * (1 - dist / (terrainSize / 2)));
        }
        pos.needsUpdate = true;
        terrainGeo.computeVertexNormals();

        const terrain = new THREE.Mesh(terrainGeo, terrainMat);
        terrain.rotation.x = -Math.PI / 2;
        terrainGroup.add(terrain);

        // 2. DATA MARKERS (Golden Towers)
        const markerCount = 10;
        for (let i = 0; i < markerCount; i++) {
            const markerGeo = new THREE.CylinderGeometry(0.05, 0.05, 10, 8);
            const markerMat = new THREE.MeshBasicMaterial({ color: 0xf59e0b, transparent: true, opacity: 0.6 });
            const marker = new THREE.Mesh(markerGeo, markerMat);

            const rx = (Math.random() - 0.5) * 30;
            const ry = (Math.random() - 0.5) * 30;
            marker.position.set(rx, 5, ry);
            terrainGroup.add(marker);
        }

        // 3. LIGHTING (Atmospheric)
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.05);
        scene.add(ambientLight);

        const dirLight = new THREE.DirectionalLight(0xffffff, 1);
        dirLight.position.set(10, 20, 10);
        scene.add(dirLight);

        const pointLight = new THREE.PointLight(0xf59e0b, 15, 60);
        pointLight.position.set(0, 5, 0);
        scene.add(pointLight);

        // --- KINETIC TYPOGRAPHY & SCROLL (GSAP) ---
        gsap.registerPlugin(ScrollTrigger);

        // Arrival Intro
        window.onload = () => {
            gsap.to("#kinetic-title span", {
                opacity: 1, y: 0, skewY: 0, filter: "blur(0px)",
                stagger: 0.12, duration: 2.2, ease: "cubic-bezier(0.19, 1, 0.22, 1)", delay: 0.5
            });
        };

        // Cinematic Camera Spline
        const curve = new THREE.CatmullRomCurve3([
            new THREE.Vector3(0, 15, 30),
            new THREE.Vector3(25, 5, 15),
            new THREE.Vector3(-25, 10, 10),
            new THREE.Vector3(0, 30, 0)
        ]);

        const scrollProxy = { val: 0 };
        gsap.to(scrollProxy, {
            val: 1,
            scrollTrigger: { trigger: ".scroll-container", start: "top top", end: "bottom bottom", scrub: 3 },
            onUpdate: () => {
                const pt = curve.getPoint(scrollProxy.val);
                camera.position.copy(pt);
                camera.lookAt(0, 0, 0);

                // Terrain Elevation Pulse on scroll
                terrain.position.y = Math.sin(scrollProxy.val * Math.PI) * 2;

                document.getElementById('progress-bar').style.width = (scrollProxy.val * 100) + "%";
            }
        });

        // Content Reveal
        gsap.utils.toArray(".reveal").forEach(el => {
            gsap.to(el, {
                scrollTrigger: { trigger: el, start: "top 75%", toggleActions: "play none none reverse" },
                opacity: 1, y: 0, duration: 1.8, ease: "power4.out"
            });
        });

        // Loop
        function animate() {
            requestAnimationFrame(animate);
            const time = performance.now() * 0.001;

            terrainGroup.rotation.y = time * 0.02;
            pointLight.intensity = 15 + Math.sin(time * 2) * 5;

            renderer.render(scene, camera);
        }
        animate();

        // Cursor & Parallax
        document.addEventListener('mousemove', e => {
            gsap.to('#cursor', { duration: 0.4, left: e.clientX - 12, top: e.clientY - 12, ease: "power2.out" });
            const x = (e.clientX / window.innerWidth - 0.5) * 5;
            const y = (e.clientY / window.innerHeight - 0.5) * 5;
            gsap.to(terrainGroup.rotation, { x: y * 0.02, y: x * 0.02, duration: 2 });
        });

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>

</html>